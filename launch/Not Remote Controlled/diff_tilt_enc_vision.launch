<?xml version="1.0"?>
<launch>
    <!-- Launches the Arduino differential (diff) drive ROS node -->
    <node pkg="rosserial_python" type="serial_node.py" name="diff_drive">
        <param name="port" value="/dev/ttyACM0"/>
        <param name="baud" value="57600"/>
    </node>

    <!-- Launches the Arduino Tilt Mechanism (tilt) ROS node -->
    <!-- Baud 57600 is used to ensure compatibility between arduino and PC -->
    <node pkg="rosserial_python" type="serial_node.py" name="tilt_node">
        <param name="port" value="/dev/ttyACM1"/>
        <param name="baud" value="57600"/>
    </node >

	<!-- Launches the Arduino Encoders (enc) node -->
    <!-- Baud 57600 is used to ensure compatibility between arduino and PC -->
    <node pkg="rosserial_python" type="serial_node.py" name="diff_encoder_node">
        <param name="port" value="/dev/ttyACM2"/>
        <param name="baud" value="57600"/>
    </node>

    <!-- diff & tilt -->
    <node
        pkg="teleop"
        type="teleop_joy.py"
        name="joystick_driver"
    />

    <!-- Launches the key to twist publisher -->
    <!-- joy node (diff & tilt) -->
    <node respawn="true" pkg="joy"
        type="joy_node" name="turtle_joy" >
        <param name="dev" type="string" value="/dev/input/js0" />
        <param name="deadzone" value="0.12" />
    </node>

    <!-- Odometry Node (enc)-->
    <!-- Calculates linear and angular velocities and position and outputs tf-->
		<node
			pkg="teleop"
			type="New_Odom.py"
			name="Odometry_node"
		/>


	<!-- Node for Kinect Bridge (Vision) -->
    <node pkg="kinect2_bridge" type="kinect2_bridge" name="kinect2_bridge">
    </node>

    <!-- Call the 2D Laser and Mapping launch file-->
		<include file="$(find teleop)/launch/kinect_odom_2dlaser.launch"/>

</launch>
